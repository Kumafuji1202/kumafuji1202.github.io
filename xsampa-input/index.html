<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Kumafuji1202">
    <meta name="pagename" content="X-SAMPA Áô∫Èü≥Ë®òÂè∑ÂÖ•Âäõ„ÉÑ„Éº„É´">
    <meta name="twitter:url" content="">
    <meta name="twitter:title" content="X-SAMPA Áô∫Èü≥Ë®òÂè∑ÂÖ•Âäõ„ÉÑ„Éº„É´">
    <meta name="twitter:description" content="X-SAMPA„ÇíÂü∫Êú¨„Å´„Åó„Åü„Éè„Éº„Éâ„Ç≠„Éº„Éú„Éº„ÉâÁî®„ÅÆÂÖ•ÂäõË£úÂä©„ÉÑ„Éº„É´„ÄÇ">
    <title>X-SAMPA Áô∫Èü≥Ë®òÂè∑ÂÖ•Âäõ„ÉÑ„Éº„É´</title>
    <script src="../js-global/utils.js"></script>
    <style>
        html {
            font-family: "Segoe UI";
            --ui-bg-image: url(../resources/Background117.png);
            --ui-area-separator-color: #fff;
            --outer-ui-text-color: #fff;
            --link-color: #ff0;
            --input-area-bg-color: #fff4;
            --input-area-text-color: #fff;
            --code-table-bg-color: #0008;
            --table-border-color: #fff;
            --table-head-cell-bg-color1-tone1: none;
            --table-head-cell-bg-color1-tone2: none;
            --table-head-cell-bg-color2-tone1: none;
            --table-head-cell-bg-color2-tone2: none;
            --table-head-cell-text-color1-tone1: #0fa;
            --table-head-cell-text-color1-tone2: #8fb;
            --table-head-cell-text-color2-tone1: #88f;
            --table-head-cell-text-color2-tone2: #bbf;
            --table-cell-bg-color: none;
            --table-cell-text-color: #fff;
            --table-cell-border-color: #fff;
            --filler-cell-bg-color: none;
            --nonxsampa-code-text-color: #0f0;
            --nonxsampa-code-bg-color: inherit;
            --nonipa-code-text-color: #88f;
            --unimplemented-color: gray;
        }

        /* ÊôÇÈõ®UI„É¨„Ç§„Ç¢„Ç¶„Éà */

        #ui {
            color: var(--outer-ui-text-color);
            background-color: #aca;
            background-image: var(--ui-bg-image);
            background-size: cover;
            background-position: top;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            width: 100vw;
            height: 100vh;
            justify-content: space-between;
        }

        #input {
            overflow-y: hidden;
            flex-grow: 1;
        }

        #symbol-list-section {
            border-left: 3px solid var(--ui-area-separator-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: calc(100vw - 200px);
            background-color: var(--code-table-bg-color);
        }
        
        a{
            color: var(--link-color);
        }

        /* ÂÖ•ÂäõÈÉ®ÂàÜ„ÅÆUI„ÅÆÂ••Â±± */

        header {
            height: 100px;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
        }

        textarea {
            background-color: var(--input-area-bg-color);
            color: var(--input-area-text-color);
            font-size: 25px;
            font-family: inherit;
            resize: none;
            width: 100%;
            height: calc(100% - 100px);
            box-sizing: border-box;
        }

        /* „Ç≥„Éº„ÉâË°®„ÅÆÈÖçÁΩÆ */

        #symbol-list-scrollbox {
            border-top: 3px solid var(--ui-area-separator-color);
            overflow-x: auto;
            overflow-y: scroll;
            /*background: var(--background-color);*/
        }

        .list-row-flex {
            display: flex;
        }

        .list-row-flex>table {
            flex-grow: 1;
        }

        /* „Ç≥„Éº„ÉâË°®„ÅÆ„Çπ„Çø„Ç§„É´ */

        table {
            border-radius: 5px;
            border-collapse: collapse;
            border: 1px solid var(--table-border-color);
        }

        code {
            display: inline-block;
            font-weight: normal;
            border: 1px solid gray;
            padding: 3px;
            border-radius: 2px;
            text-decoration: inherit;
        }

        span.symbol-code{
            display: inline-block;
            vertical-align: middle;
        }
        
        .nonipa code:not(.xsampa){
            color: var(--nonxsampa-code-text-color);
        }
        
        thead>tr:nth-of-type(2n+1)>th {
            background-color: var(--table-head-cell-bg-color1-tone1);
            color: var(--table-head-cell-text-color1-tone1);
        }

        thead>tr:nth-of-type(2n)>th {
            background-color: var(--table-head-cell-bg-color1-tone2);
            color: var(--table-head-cell-text-color1-tone2);
        }

        tbody>tr:nth-of-type(2n+1)>th {
            background-color: var(--table-head-cell-bg-color2-tone1);
            color: var(--table-head-cell-text-color2-tone1);
        }

        tbody>tr:nth-of-type(2n)>th {
            background-color: var(--table-head-cell-bg-color2-tone2);
            color: var(--table-head-cell-text-color2-tone2);
        }

        table td {
            padding: 2px;
            text-align: center;
            color: var(--table-cell-text-color);
        }

        table td:not(.impossible) {
            background-color: var(--table-cell-bg-color);
            border: 1px solid var(--table-cell-border-color);
        }

        table td.impossible {
            background-color: var(--filler-cell-bg-color);
        }

        .nonxsampa {
            background-color: var(--nonxsampa-code-bg-color);
            color: var(--nonxsampa-code-text-color);
        }

        .nonipa {
            color: var(--nonipa-code-text-color);
        }
        
        .has-superscript{
            font-weight: bold;
        }
        .unimplemented{
            display: none;
            text-decoration: line-through;
            color: var(--unimplemented-color);
        }

        /* ÊØçÈü≥Âõ≥„ÅÆ„Éï„Ç©„Éº„Éû„ÉÉ„ÉÜ„Ç£„É≥„Ç∞ */

        #vowel-list {
            width: 25em;
            height: 23em;
        }

        td#vowel-space-cell {
            align-content: center;
            text-align: center;
        }

        #vowel-space {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-around;
            flex-direction: column;
        }

        #vowel-space>div {
            /*È´ò„Åï„Åî„Å®„ÅÆÊØçÈü≥„Ç∞„É´„Éº„ÉóÂ§ñÂÅ¥*/
            padding-right: 10px;
        }

        #vowel-space>div>div {
            /*È´ò„Åï„Åî„Å®„ÅÆÊØçÈü≥„Ç∞„É´„Éº„ÉóÂÜÖÂÅ¥*/
            display: flex;
            justify-content: space-between;
            width: 100%;
        }

        #vowel-space>div>div>div {
            /*ÂêÑÊØçÈü≥ÂØæ*/
            width: 75px;
            align-content: center;
        }

    </style>
</head>

<body>
    <div id="ui">
        <div id="input">
            <header>
                <h1>X-SAMPA Áô∫Èü≥Ë®òÂè∑ÂÖ•Âäõ„ÉÑ„Éº„É´</h1>
                <p><a href="https://ja.wikipedia.org/wiki/X-SAMPA">X-SAMPA</a>„Çí„Éô„Éº„Çπ„Å´„Åó„ÅüÁô∫Èü≥Ë®òÂè∑ÂÖ•ÂäõË£úÂä©„ÉÑ„Éº„É´„Åß„Åô„ÄÇ<a href="../">„Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Å´Êàª„Çã</a></p>
            </header>
            <textarea id="area" spellcheck="false" placeholder="„Åì„Åì„Å´ÂÖ•Âäõ..."></textarea>
        </div>
        <div id="symbol-list-section">
            <div id="symbol-list-header">
                <h2>ÂÖ•Âäõ„Ç≥„Éº„ÉâË°®</h2>
                <p>„Åù„Çå„Åû„Çå„ÅÆË®òÂè∑„ÅÆÊ®™„ÅÆ„Ç≥„Éº„Éâ„ÅÆÈÄö„Çä„Å´Â∑¶„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Éú„ÉÉ„ÇØ„Çπ„Å´ÂÖ•Âäõ(IME„ÅØOFF„Åß)„Åó„Å¶ÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ<br><span class="nonipa">„Åì„ÅÆËâ≤</span>„Åß„Éû„Éº„ÇØ„Åï„Çå„ÅüË®òÂè∑„ÅØIPA„ÅÆË¶èÊ†ºÂ§ñ„Åß„Åô„ÄÇ <code class="nonxsampa">„Åì„ÅÆËâ≤</code>„ÅÆ„Ç≥„Éº„Éâ„ÅØX-SAMPA„ÅÆË¶èÊ†ºÂ§ñ„Åß„Åô„ÄÇ<br> <span class="has-superscript">Â§™Â≠ó</span>„ÅÆË®òÂè∑„ÅØ<code class="nonxsampa">_s</code>„Åß‰∏ä‰ªò„ÅçÊñáÂ≠ó„Å´Â§âÊèõ„Åß„Åç„Åæ„Åô„ÄÇ</p>
                <small>ËÉåÊôØ: Rolling Fanmade„ÄåÊ¥ûÁ™ü„Äç„Çà„Çä</small>
            </div>
            <div id="symbol-list-scrollbox">
                <div id="symbol-list">
                    <table class="list" id="consonant-list">
                        <thead>
                            <tr>
                                <th colspan="12">Â≠êÈü≥ (Ë®òÂè∑„Åå2„Å§„ÅÇ„Çã„Çª„É´„ÅØÂ∑¶„ÅåÁÑ°Â£∞„ÄÅÂè≥„ÅåÊúâÂ£∞)</th>
                            </tr>
                            <tr>
                                <th></th>
                                <th>‰∏°ÂîáÈü≥</th>
                                <th>ÂîáÊ≠ØÈü≥</th>
                                <th>Ê≠ØÈü≥</th>
                                <th>Ê≠ØËåéÈü≥</th>
                                <th>ÂæåÈÉ®Ê≠ØËåéÈü≥</th>
                                <th>„Åù„ÇäËàåÈü≥</th>
                                <th>Ê≠ØËåé<br>ËªüÂè£ËìãÈü≥</th>
                                <th>Á°¨Âè£ËìãÈü≥</th>
                                <th>ËªüÂè£ËìãÈü≥</th>
                                <th>Âè£ËìãÂûÇÈü≥</th>
                                <th>ÂíΩÈ†≠Èü≥„Éª<br>ÂñâÈ†≠ËìãÈü≥</th>
                                <th>Â£∞ÈñÄÈü≥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>ÈºªÈü≥</th>
                                <td><span class="symbol-code has-superscript">m <code>m</code></span></td>
                                <td><span class="symbol-code has-superscript">…± <code>F</code></span></td>
                                <td colspan="3"><span class="symbol-code has-superscript">n <code>n</code></span></td>
                                <td><span class="symbol-code has-superscript">…≥ <code>n`</code></span></td>
                                <td><span class="symbol-code nonipa">»µ <code>n\</code></span></td>
                                <td><span class="symbol-code has-superscript">…≤ <code>J</code></span></td>
                                <td><span class="symbol-code has-superscript">≈ã <code>N</code></span></td>
                                <td><span class="symbol-code has-superscript">…¥ <code>N\</code></span></td>
                                <td colspan="2" class="impossible"></td>
                            </tr>
                            <tr>
                                <th>Á†¥Ë£ÇÈü≥</th>
                                <td><span class="symbol-code has-superscript">p <code>p</code></span> <span class="symbol-code has-superscript">b <code>b</code></span></td>
                                <td><span class="symbol-code">pÃ™ <code>p_d</code><br><span class="nonipa">(»π <code>P\</code></span></span> <span class="symbol-code">bÃ™ <code>b_d</code><br><span class="nonipa">»∏ <code>D\</code>)</span></span></td>
                                <td colspan="3"><span class="symbol-code has-superscript">t <code>t</code></span> <span class="symbol-code has-superscript">d <code>d</code></span></td>
                                <td><span class="symbol-code"> à <code>t`</code></span> <span class="symbol-code">…ñ <code>d`</code></span></td>
                                <td><span class="symbol-code nonipa">»∂ <code>t\</code></span> <span class="symbol-code nonipa">»° <code>d\</code></span></td>
                                <td><span class="symbol-code has-superscript">c <code>c</code></span> <span class="symbol-code has-superscript">…ü <code>J\</code></span></td>
                                <td><span class="symbol-code has-superscript">k <code>k</code></span> <span class="symbol-code has-superscript">…° <code>g</code></span></td>
                                <td><span class="symbol-code">q <code>q</code></span> <span class="symbol-code">…¢ <code>G\</code></span></td>
                                <td><span class="symbol-code"> ° <code>&gt;\</code></span></td>
                                <td><span class="symbol-code has-superscript"> î <code>?</code></span></td>
                            </tr>
                            <tr>
                                <th>Êë©Êì¶Èü≥</th>
                                <td><span class="symbol-code has-superscript">…∏ <code>p\</code></span> <span class="symbol-code has-superscript">Œ≤ <code>B</code></span></td>
                                <td><span class="symbol-code has-superscript">f <code>f</code></span> <span class="symbol-code has-superscript">v <code>v</code></span></td>
                                <td><span class="symbol-code has-superscript">Œ∏ <code>T</code></span> <span class="symbol-code has-superscript">√∞ <code>D</code></span></td>
                                <td><span class="symbol-code has-superscript">s <code>s</code></span> <span class="symbol-code has-superscript">z <code>z</code></span></td>
                                <td><span class="symbol-code has-superscript"> É <code>S</code></span> <span class="symbol-code has-superscript"> í <code>Z</code></span></td>
                                <td><span class="symbol-code has-superscript"> Ç <code>s`</code></span> <span class="symbol-code has-superscript"> ê <code>z`</code></span></td>
                                <td><span class="symbol-code has-superscript">…ï <code>s\</code></span> <span class="symbol-code has-superscript"> ë <code>z\</code></span></td>
                                <td><span class="symbol-code">√ß <code>C</code></span> <span class="symbol-code has-superscript"> ù <code>j\</code></span></td>
                                <td><span class="symbol-code has-superscript">x <code>x</code></span> <span class="symbol-code has-superscript">…£ <code>G</code></span></td>
                                <td><span class="symbol-code has-superscript">œá <code>X</code></span> <span class="symbol-code has-superscript"> Å <code>R</code></span></td>
                                <td><span class="symbol-code">ƒß <code>X\</code></span> <span class="symbol-code has-superscript"> ï <code>?\</code></span></td>
                                <td rowspan="2"><span class="symbol-code has-superscript">h <code>h</code></span> <span class="symbol-code has-superscript">…¶ <code>h\</code></span></td>
                            </tr>
                            <tr>
                                <th>Êé•ËøëÈü≥</th>
                                <td><span class="symbol-code">Œ≤Ãû <code>B_o</code></span></td>
                                <td><span class="symbol-code has-superscript"> ã <code>v\</code> <code>P</code></span></td>
                                <td colspan="3"><span class="symbol-code"><span class="has-superscript">…π <code>r\</code></span><br><span class="nonipa">(…ø <code>4\</code>)</span><br><span class="nonipa">( Æ <code>y\</code>)</span></span></td>
                                <td><span class="symbol-code"><span class="has-superscript">…ª <code>r\`</code></span><br><span class="nonipa">( Ö <code>4\`</code>)</span><br><span class="nonipa">( Ø <code>y\`</code>)</span></span></td>
                                <td></td>
                                <td><span class="symbol-code has-superscript">j <code>j</code></span></td>
                                <td><span class="symbol-code has-superscript">…∞ <code>M\</code></span></td>
                                <td><span class="symbol-code has-superscript"> Å <code>R</code></span></td>
                                <td><span class="symbol-code has-superscript"> ï <code>?\</code></span></td>
                            </tr>
                            <tr>
                                <th>„Åµ„Çã„ÅàÈü≥</th>
                                <td><span class="symbol-code"> ô <code>B\</code></span></td>
                                <td></td>
                                <td colspan="3"><span class="symbol-code has-superscript">r <code>r</code></span></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td class="impossible"></td>
                                <td><span class="symbol-code"> Ä <code>R\</code></span></td>
                                <td><span class="symbol-code"> ú <code>H\</code></span> <span class="symbol-code"> ¢ <code>&lt;\</code></span></td>
                                <td class="impossible"></td>
                            </tr>
                            <tr>
                                <th>„ÅØ„Åò„ÅçÈü≥</th>
                                <td><span class="symbol-code">‚±±Ãü <code class="nonxsampa">b\_+</code></span></td>
                                <td><span class="symbol-code">‚±± <code class="nonxsampa">b\</code></span></td>
                                <td colspan="3"><span class="symbol-code">…æ <code>4</code></span></td>
                                <td><span class="symbol-code">…Ω <code>r`</code></span></td>
                                <td class="impossible"></td>
                                <td></td>
                                <td class="impossible"></td>
                                <td></td>
                                <td><span class="symbol-code"> ¢ÃÜ <code>&lt;\_X</code></span></td>
                                <td class="impossible"></td>
                            </tr>
                            <tr>
                                <th>ÂÅ¥Èù¢Êë©Êì¶Èü≥</th>
                                <td colspan="2" class="impossible"></td>
                                <td colspan="3"><span class="symbol-code">…¨ <code>K</code><br><span class="nonipa">∆õ <code>S\</code></span></span> <span class="symbol-code">…Æ <code>K\</code></span></td>
                                <td><span class="symbol-code">Íûé <code class="nonxsampa">K`</code></span> <span class="symbol-code unimplemented">&#122629; <code class="nonxsampa">K\`</code></span></td>
                                <td></td>
                                <td><span class="symbol-code unimplemented">&#122630; <code class="nonxsampa">k\</code></span></td>
                                <td>ùºÑ</td>
                                <td></td>
                                <td colspan="2" class="impossible"></td>
                            </tr>
                            <tr>
                                <th>ÂÅ¥Èù¢Êé•ËøëÈü≥</th>
                                <td colspan="2" class="impossible"></td>
                                <td colspan="3"><span class="symbol-code has-superscript">l <code>l</code></span></td>
                                <td><span class="symbol-code has-superscript">…≠ <code>l`</code></span></td>
                                <td><span class="symbol-code nonipa">»¥ <code>5\</code></span></td>
                                <td><span class="symbol-code"> é <code>L</code></span></td>
                                <td><span class="symbol-code has-superscript"> ü <code>L\</code></span></td>
                                <td></td>
                                <td colspan="2" class="impossible"></td>
                            </tr>
                            <tr>
                                <th>ÂÅ¥Èù¢„ÅØ„Åò„ÅçÈü≥</th>
                                <td colspan="2" class="impossible"></td>
                                <td colspan="3"><span class="symbol-code">…∫ <code>l\</code></span></td>
                                <td><span class="symbol-code unimplemented">&#122632; <code class="nonxsampa">l\`</code></span></td>
                                <td></td>
                                <td></td>
                                <td><span class="symbol-code"> üÃÜ <code>L\_X</code></span></td>
                                <td></td>
                                <td colspan="2" class="impossible"></td>
                            </tr>
                            <tr>
                                <th>ÂÖ•Á†¥Èü≥</th>
                                <td><span class="symbol-code nonipa">∆• <code>p_&lt;</code></span> <span class="symbol-code">…ì <code>b_&lt;</code></span></td>
                                <td class="impossible"></td>
                                <td colspan="3"><span class="symbol-code nonipa">∆≠ <code>t_&lt;</code></span> <span class="symbol-code">…ó <code>d_&lt;</code></span></td>
                                <td><span class="symbol-code nonipa"> à <code>t`_&lt;</code></span> <span class="symbol-code">·∂ë <code>d`_&lt;</code></span></td>
                                <td></td>
                                <td><span class="symbol-code nonipa">∆à <code>c_&lt;</code></span> <span class="symbol-code"> Ñ <code>J\_&lt;</code></span></td>
                                <td><span class="symbol-code nonipa">∆ô <code>k_&lt;</code></span> <span class="symbol-code">…† <code>g_&lt;</code></span></td>
                                <td><span class="symbol-code nonipa"> † <code>q_&lt;</code></span> <span class="symbol-code"> õ <code>G\_&lt;</code></span></td>
                                <td colspan="2" class="impossible"></td>
                            </tr>
                            <tr>
                                <th>Âê∏ÁùÄÈü≥</th>
                                <td><span class="symbol-code"> ò <code>O\</code></span></td>
                                <td class="impossible"></td>
                                <td><span class="symbol-code">«Ä <code>|\</code><br><span class="nonipa"> á <code>T\</code></span></span></td>
                                <td colspan="2"><span class="symbol-code"><span class="has-superscript">«É <code>!\</code></span><br><span class="nonipa"> ó <code>c\</code></span></span></td>
                                <td></td>
                                <td></td>
                                <td><span class="symbol-code">«Ç <code>=\</code></span></td>
                                <td><span class="symbol-code nonipa"> û <code>k\</code></span></td>
                                <td colspan="4" class="impossible"></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="list-row-flex">
                        <table class="list" id="vowel-list">
                            <thead>
                                <tr>
                                    <th>ÊØçÈü≥</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="vowel-space-cell">
                                        <div id="vowel-space">
                                            <div style="padding-left: 10px">
                                                <div>
                                                    <div><span class="symbol-code has-superscript">i <code>i</code></span> <span class="symbol-code has-superscript">y <code>y</code></span></div>
                                                    <div><span class="symbol-code has-superscript">…® <code>1</code></span> <span class="symbol-code has-superscript"> â <code>}</code></span></div>
                                                    <div><span class="symbol-code has-superscript">…Ø <code>M</code></span> <span class="symbol-code has-superscript">u <code>u</code></span></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 60px; padding-right: 50px">
                                                <div>
                                                    <div><span class="symbol-code has-superscript">…™ <code>I</code></span> <span class="symbol-code"> è <code>Y</code></span></div>
                                                    <div><span class="symbol-code nonipa has-superscript">·µª <code class="xsampa">I\</code></span> <span class="symbol-code nonipa xsampa">·µø <code class="xsampa">U\</code></span></div>
                                                    <div><span class="symbol-code has-superscript"> ä <code>U</code></span></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 30px">
                                                <div>
                                                    <div><span class="symbol-code has-superscript">e <code>e</code></span> <span class="symbol-code">√∏ <code>2</code></span></div>
                                                    <div><span class="symbol-code">…ò <code>@\</code></span> <span class="symbol-code has-superscript">…µ <code>8</code></span></div>
                                                    <div><span class="symbol-code">…§ <code>7</code></span> <span class="symbol-code has-superscript">o <code>o</code></span></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 40px">
                                                <div>
                                                    <div><span class="symbol-code">eÃû <code>e_o</code><br><span class="nonipa">(·¥á <code>e\</code>)</span></span> <span class="symbol-code">√∏Ãû <code>2_o</code></span></div>
                                                    <div><span class="symbol-code has-superscript">…ô <code>@</code></span></div>
                                                    <div><span class="symbol-code">…§Ãû <code>7_o</code></span> <span class="symbol-code">oÃû <code>o_o</code><br><span class="nonipa">(Í≠• <code>o\</code>)</span></span></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 50px">
                                                <div>
                                                    <div><span class="symbol-code has-superscript">…õ <code>E</code></span> <span class="symbol-code has-superscript">≈ì <code>9</code></span></div>
                                                    <div><span class="symbol-code has-superscript">…ú <code>3</code></span> <span class="symbol-code">…û <code>3\</code></span></div>
                                                    <div><span class="symbol-code has-superscript"> å <code>V</code></span> <span class="symbol-code has-superscript">…î <code>O</code></span></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 100px; padding-right: 50px">
                                                <div>
                                                    <div><span class="symbol-code">√¶ <code>{</code></span></div>
                                                    <div><span class="symbol-code has-superscript">…ê <code>6</code></span></div>
                                                    <div></div>
                                                </div>
                                            </div>
                                            <div style="padding-left: 70px">
                                                <div>
                                                    <div><span class="symbol-code has-superscript">a <code>a</code></span> <span class="symbol-code">…∂ <code>&amp;</code></span></div>
                                                    <div><span class="symbol-code">aÃà <code>a_"</code><br><span class="nonipa">(·¥Ä <code>a\</code>)</span></span></div>
                                                    <div><span class="symbol-code has-superscript">…ë <code>A</code></span> <span class="symbol-code has-superscript">…í <code>Q</code></span></div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="list" id="diacritical-list">
                            <thead>
                                <tr>
                                    <th colspan="8">ÂêÑÁ®ÆË£úÂä©Ë®òÂè∑</th>
                                </tr>
                                <tr>
                                    <th colspan="4">‰ΩçÁΩÆ</th>
                                    <th colspan="2">ÂâØÊ¨°Ë™øÈü≥</th>
                                    <th colspan="2">Áô∫Â£∞/Ê∞óÊµÅÊ©üÊßã</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>ËàåÂ∞ñÈü≥</th>
                                    <td>tÃ∫ <code>_a</code></td>
                                    <th>‰∏≠ËàåÂØÑ„Çä</th>
                                    <td>aÃà <code>_"</code></td>
                                    <th>ËªüÂè£Ëìã/ÂíΩÈ†≠Âåñ</th>
                                    <td>tÃ¥ <code>_e</code></td>
                                    <th>ÁÑ°Â£∞Èü≥</th>
                                    <td>aÃ• <code>_0</code></td>
                                </tr>
                                <tr>
                                    <th>ËàåÁ´ØÈü≥</th>
                                    <td>tÃª <code>_m</code></td>
                                    <th>‰∏≠Â§ÆÂØÑ„Çä</th>
                                    <td>aÃΩ <code>_x</code></td>
                                    <th>ÂíΩÈ†≠Âåñ</th>
                                    <td>ÀÅ <code>_?\</code></td>
                                    <th>ÊúâÂ£∞Èü≥</th>
                                    <td>aÃ¨ <code>_v</code></td>
                                </tr>
                                <tr>
                                    <th>Ê≠ØÈü≥</th>
                                    <td>dÃ™ <code>_d</code></td>
                                    <th>ÂâçÊñπËàåÊ†πÊÄß</th>
                                    <td>oÃò <code>_A</code></td>
                                    <th>ËªüÂè£ËìãÂåñ</th>
                                    <td>À† <code>_G</code></td>
                                    <th>Â£∞ÈñÄÈü≥Âåñ</th>
                                    <td>ÀÄ <code>_?</code></td>
                                </tr>
                                <tr>
                                    <th>ËàåÂîáÈü≥</th>
                                    <td>dÃº <code>_N</code></td>
                                    <th>ÂæåÊñπËàåÊ†πÊÄß</th>
                                    <td>oÃô <code>_q</code></td>
                                    <th>Âè£ËìãÂåñ</th>
                                    <td> ≤ <code>_j</code> <code>'</code></td>
                                    <th>Ëªã„ÅøÂ£∞</th>
                                    <td>aÃ∞ <code>_k</code></td>
                                </tr>
                                <tr>
                                    <th>ÂâçÈÄ≤</th>
                                    <td>aÃü <code>_+</code></td>
                                    <th>Âº±„ÅÑÂÜÜÂîá</th>
                                    <td>oÃú <code>_c</code></td>
                                    <th>ÂîáÈü≥Âåñ</th>
                                    <td> ∑ <code>_w</code></td>
                                    <th rowspan="2">ÊÅØ„ÇÇ„ÇåÂ£∞</th>
                                    <td rowspan="2">aÃ§ <code>_t</code><br><span class="nonipa"> ± <code>_h\</code></span></td>
                                </tr>
                                <tr>
                                    <th>ÂæåÈÄÄ</th>
                                    <td>aÃ† <code>_-</code></td>
                                    <th>Âº∑„ÅÑÂÜÜÂîá</th>
                                    <td>oÃπ <code>_O</code></td>
                                    <th>ÊîæÂá∫Èü≥</th>
                                    <td> º <code>_&gt;</code></td>
                                </tr>
                                <tr>
                                    <th>Â∫É„ÇÅ</th>
                                    <td>oÃû <code>_o</code></td>
                                    <th>ÂÅ¥Èù¢ÈñãÊîæ</th>
                                    <td>À° <code>_l</code></td>
                                    <th>RÈü≥Âåñ</th>
                                    <td>…úÀû <code>`</code></td>
                                    <th>ÊúâÊ∞óÈü≥</th>
                                    <td> ∞ <code>_h</code></td>
                                </tr>
                                <tr>
                                    <th>Áã≠„ÇÅ</th>
                                    <td>…îÃù <code>_r</code></td>
                                    <td colspan="2" class="impossible"></td>
                                    <th>ÈºªËÖîÈñãÊîæ</th>
                                    <td>‚Åø <code>_n</code></td>
                                    <th>ÁÑ°Ê∞óÈü≥</th>
                                    <td>À≠ <code>_}</code></td>
                                </tr>
                                <tr>
                                    <th rowspan="2">Compressed</th>
                                    <td rowspan="2"><span class="symbol-code nonipa">·µù <code>_b</code><br>·∂π <code>_u</code></span></td>
                                    <td colspan="2" class="impossible"></td>
                                    <th>Âîá&amp;ËªüÂè£ËìãÂåñ</th>
                                    <td><span class="symbol-code">·∂£ <code class="nonxsampa">_y</code></span></td>
                                    <th>ÈºªÈü≥Âåñ</th>
                                    <td>…ëÃÉ <code>~</code> <code>_~</code></td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="impossible"></td>
                                    <th>ÂÜÖÁ†¥Èü≥</th>
                                    <td>tÃö <code>_}</code></td>
                                    <th>ÂÖ•Á†¥Èü≥</th>
                                    <td>…ì <code>_&lt;</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="list-row-flex">
                        <table class="list" id="consonant-list-sub">
                            <thead>
                                <tr>
                                    <th colspan="4">ÂêåÊôÇË™øÈü≥</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>‰∏°ÂîáËªüÂè£Ëìã</th>
                                    <td><span class="symbol-code has-superscript"> ç <code>W</code></span> <span class="symbol-code has-superscript">w <code>w</code></span></td>
                                </tr>
                                <tr>
                                    <th>‰∏°ÂîáÁ°¨Âè£Ëìã</th>
                                    <td><span class="symbol-code">…•Ã• <code>H_0</code></span> <span class="symbol-code has-superscript">…• <code>H</code></span></td>
                                </tr>
                                <tr>
                                    <th>Êöó„ÅÑL</th>
                                    <td><span class="symbol-code">…´ <code>5</code></span></td>
                                </tr>
                                <tr>
                                    <th>sjÈü≥</th>
                                    <td><span class="symbol-code">…ß <code>x\</code></span></td>
                                </tr>
                                <tr>
                                    <th>Á†¥Êì¶Èü≥<br>orÂêåÊôÇË™øÈü≥</th>
                                    <td><span class="symbol-code">‚óåÕ°‚óå <code class="nonxsampa">+</code></span></td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="list" id="suprasegmental-list">
                            <thead>
                                <tr>
                                    <th colspan="14">Ë∂ÖÂàÜÁØÄË¶ÅÁ¥†</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>Á¨¨1Âº∑Âã¢</th>
                                    <td>Àà <code>"</code></td>
                                    <th>Á¨¨2Âº∑Âã¢</th>
                                    <td>Àå <code>%</code></td>
                                    <th>Â£∞Ë™ø</th>
                                    <th colspan="4">Êäò„ÇåÁ∑öË®òÂè∑</th>
                                    <th>Êï∞Â≠ó</th>
                                    <th>ÈÄöÂ∏∏</th>
                                    <th>‰∏äÊòá</th>
                                    <th>‰∏ãÈôç</th>
                                    <th colspan="2">„Åù„ÅÆ‰ªñ</th>
                                </tr>
                                <tr>
                                    <th>Èï∑</th>
                                    <td>Àê <code>:</code></td>
                                    <th>ÂçäÈï∑</th>
                                    <td>Àë <code>:\</code></td>
                                    <th>Ë∂ÖÈ´ò</th>
                                    <td>À• <code class="nonxsampa">_5</code></td>
                                    <td>Íúí <code class="nonxsampa">_5_S</code></td>
                                    <td>Íúà <code class="nonxsampa">_5_Q</code></td>
                                    <td>Íúç <code class="nonxsampa">_5_Q_S</code></td>
                                    <td><span class="symbol-code nonipa">‚Åµ <code>_5_U</code></span></td>
                                    <td>aÃã <code>_T</code></td>
                                    <td colspan="2" class="impossible"></td>
                                    <th>ÊòáÈôç</th>
                                    <td>a·∑à <code>_R_F</code></td>
                                </tr>
                                <tr>
                                    <th>Ë∂ÖÁü≠</th>
                                    <td>aÃÜ <code>_X</code></td>
                                    <th>Èü≥ÁØÄÂ¢ÉÁïå</th>
                                    <td>. <code>.</code></td>
                                    <th>È´ò</th>
                                    <td>À¶ <code class="nonxsampa">_4</code></td>
                                    <td>Íúì <code class="nonxsampa">_4_S</code></td>
                                    <td>Íúâ <code class="nonxsampa">_4_Q</code></td>
                                    <td>Íúé <code class="nonxsampa">_4_Q_S</code></td>
                                    <td><span class="symbol-code nonipa">‚Å¥ <code>_4_U</code></span></td>
                                    <td>aÃÅ <code>_H</code></td>
                                    <td>a·∑Ñ <code>_H_T</code></td>
                                    <td>a·∑á <code class="nonxsampa">_T_H</code></td>
                                    <th>ÈôçÊòá</th>
                                    <td>a·∑â <code>_F_R</code></td>
                                </tr>
                                <tr>
                                    <th>ÈùûÈü≥ÁØÄÊ†∏</th>
                                    <td>eÃØ <code>_^</code></td>
                                    <th>Èü≥ÁØÄÊ†∏</th>
                                    <td>mÃ© <code>_=</code> <code>=</code></td>
                                    <th>‰∏≠</th>
                                    <td>Àß <code class="nonxsampa">_3</code></td>
                                    <td>Íúî <code class="nonxsampa">_3_S</code></td>
                                    <td>Íúä <code class="nonxsampa">_3_Q</code></td>
                                    <td>Íúè <code class="nonxsampa">_3_Q_S</code></td>
                                    <td><span class="symbol-code nonipa">¬≥ <code>_3_U</code></span></td>
                                    <td>aÃÑ <code>_M</code></td>
                                    <td>aÃå <code>_L_H</code> <code>_R</code> <code>_/</code></td>
                                    <td>aÃÇ <code>_H_L</code> <code>_F</code> <code>_\</code></td>
                                    <td colspan="2" rowspan="3" class="impossible"></td>
                                </tr>
                                <tr>
                                    <th>ÔΩ±ÔΩØÔæåÔæüÔΩΩÔæÉÔΩØÔæåÔæü</th>
                                    <td>Íúõ <code>^</code></td>
                                    <th>ÔæÄÔæûÔΩ≥ÔæùÔΩΩÔæÉÔΩØÔæåÔæü</th>
                                    <td>Íúú <code>!</code></td>
                                    <th>‰Ωé</th>
                                    <td>À® <code class="nonxsampa">_2</code></td>
                                    <td>Íúï <code class="nonxsampa">_2_S</code></td>
                                    <td>Íúã <code class="nonxsampa">_2_Q</code></td>
                                    <td>Íúê <code class="nonxsampa">_2_Q_S</code></td>
                                    <td><span class="symbol-code nonipa">¬≤ <code>_2_U</code></span></td>
                                    <td>aÃÄ <code>_L</code></td>
                                    <td>a·∑Ö <code>_B_L</code></td>
                                    <td>a·∑Ü <code class="nonxsampa">_L_B</code></td>
                                </tr>
                                <tr>
                                    <th>ÈÄ£Áµê</th>
                                    <td>‚óå‚Äø‚óå <code>-\</code></td>
                                    <td colspan="2" class="impossible"></td>
                                    <th>Ë∂Ö‰Ωé</th>
                                    <td>À© <code class="nonxsampa">_1</code></td>
                                    <td>Íúñ <code class="nonxsampa">_1_S</code></td>
                                    <td>Íúå <code class="nonxsampa">_1_Q</code></td>
                                    <td>Íúë <code class="nonxsampa">_1_Q_S</code></td>
                                    <td><span class="symbol-code nonipa">¬π <code>_1_U</code></span></td>
                                    <td>aÃè <code>_B</code></td>
                                    <td colspan="2" class="impossible"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    var area = getElem("area");
    area.addEventListener("keydown", e => {
        if (e.key.length > 1) return;

        let longSelected = area.selectionStart != area.selectionEnd;

        let underscoreJoin = area.value.charAt(area.selectionStart - 1) == "_";

        if (!underscoreJoin && (("a" <= e.key && e.key <= "z" && e.key != "g") || "./".includes(e.key))) { //Â∞èÊñáÂ≠ó„Å™„Çâ‰Ωï„ÇÇ„Åó„Å™„ÅÑ„ÅßÂá∫Âäõ
            return;
        }

        if (!(underscoreJoin || "A" <= e.key & e.key <= "Z" || "g%':@{}123456789&?<>^!|\"=~+\\`".includes(e.key))) return; //‰ªñ„ÅÆÁâπÊÆäÊñáÂ≠ó„Åß„Å™„Åë„Çå„Å∞ÁÑ°Ë¶ñ

        //"iy…®·µø…Øue√∏…ò…µ…§o"
        //
        let cursorAfterPos = area.selectionStart;
        let newLet = "";
        let consumeLetter = 0;
        let invalidInput = false;
        const implosiveConvertBase = "bd…ñ…ü…°…¢ptckq";
        const underscoreDiacriticCode = "\"+-0=>^}~AabcdeGhjklmNnOoqrtuvwXxy12345?";
        console.log("xibgus");
        if (underscoreJoin) { //Áõ¥Ââç„ÅÆÊñáÂ≠ó„Åå_„Å™„Çâ
            if (e.key == "<") { //ÂÖ•Á†¥Èü≥„Å´Â§âÂåñ
                if (!implosiveConvertBase.includes(area.value.charAt(cursorAfterPos - 2))) invalidInput = true; //Ââç„Å´Â§âÂåñ„Åï„Åõ„Çâ„Çå„ÇãÊñáÂ≠ó„Åå„Å™„ÅÑ

                newLet = "…ì…ó·∂ë Ñ…† õ∆•∆≠∆à∆ô †" [implosiveConvertBase.indexOf(area.value.charAt(cursorAfterPos - 2))];
                consumeLetter = 2;

            } else if (e.key == "s"){ //_s„Åß‰∏ä‰ªò„Åç„Å´Â§âÊèõ
                let superscriptConvertBase = "mpb…∏Œ≤…±fv ãŒ∏√∞ntdsz…πrl«É É í…ï ë…≥ Ç ê…ª…≠…≤c…ü ùj…•≈ãk…°x…£…∞w ç ü…¥œá Å ï îh…¶iy…® â…Øu…™·µª äe…µo…ô…õ≈ì…ú å…î…ê…ë…ía";
                if (!superscriptConvertBase.includes(area.value.charAt(cursorAfterPos - 2))) invalidInput = true; //Ââç„Å´Â§âÂåñ„Åï„Åõ„Çâ„Çå„ÇãÊñáÂ≠ó„Åå„Å™„ÅÑ
                newLet = "·µê·µñ·µá·∂≤·µù·∂¨·∂†·µõ·∂π·∂ø·∂û‚Åø·µó·µàÀ¢·∂ª ¥ ≥À°Íúù·∂¥·∂æ·∂ù·∂Ω·∂Ø·∂≥·∂º µ·∂©·∂Æ·∂ú·∂°·∂® ≤·∂£·µë·µè·∂¢À£À†·∂≠ ∑Í≠©·∂´·∂∞·µ° ∂À§ÀÄ ∞ ±‚Å± ∏·∂§·∂∂·µö·µò·∂¶·∂ß·∂∑·µâ·∂±·µí·µä·µãÍüπ·∂ü·∂∫·µì·µÑ·µÖ·∂õ·µÉ" [superscriptConvertBase.indexOf(area.value.charAt(cursorAfterPos - 2))];
                consumeLetter = 2;
            } else if (e.key == "S") { //Â£∞Ë™øË®òÂè∑ÂèçËª¢(ÈÄ£Â£∞Áî®)
                if (!"À©À®ÀßÀ¶À•ÍúåÍúãÍúäÍúâÍúà".includes(area.value.charAt(cursorAfterPos - 2))) invalidInput = true;

                newLet = "ÍúñÍúïÍúîÍúìÍúíÍúëÍúêÍúèÍúéÍúç" ["À©À®ÀßÀ¶À•ÍúåÍúãÍúäÍúâÍúà".indexOf(area.value.charAt(cursorAfterPos - 2))];
                consumeLetter = 2;

            } else if (e.key == "Q") { //ËªΩÂ£∞Áî®Â£∞Ë™øË®òÂè∑
                if (!"À©À®ÀßÀ¶À•ÍúñÍúïÍúîÍúìÍúí".includes(area.value.charAt(cursorAfterPos - 2))) invalidInput = true;

                newLet = "ÍúåÍúãÍúäÍúâÍúàÍúëÍúêÍúèÍúéÍúç" ["À©À®ÀßÀ¶À•ÍúñÍúïÍúîÍúìÍúí".indexOf(area.value.charAt(cursorAfterPos - 2))];
                consumeLetter = 2;

            } else if (e.key == "U") { //‰∏ä‰ªò„ÅçÊï∞Â≠óÂ£∞Ë™øË°®Ë®ò
                if (!"À©À®ÀßÀ¶À•".includes(area.value.charAt(cursorAfterPos - 2))) invalidInput = true;

                newLet = "¬π¬≤¬≥‚Å¥‚Åµ" ["À©À®ÀßÀ¶À•".indexOf(area.value.charAt(cursorAfterPos - 2))];
                consumeLetter = 2;

            } else if ("THMLBRF/\\".includes(e.key)) { //Â£∞Ë™øË£úÂä©Ë®òÂè∑Èñ¢ÈÄ£
                let toneLetters = String.fromCharCode(0x030b, 0x0301, 0x0304, 0x0300, 0x030f, 0x030c, 0x0302); //THMLBRF/\„ÅÆÈ†Ü
                //Ââç„ÅåÂ£∞Ë™øË®òÂè∑„Å™„Çâ„Åù„Çå„Å´„Å§„Å™„Åí„Çã
                if (area.value.charAt(cursorAfterPos - 2) == toneLetters[0]) { //Ââç„ÅåT„Å™„Çâ
                    if (e.key == "H") {
                        newLet = String.fromCharCode(0x1dc7);
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else if (area.value.charAt(cursorAfterPos - 2) == toneLetters[1]) { //Ââç„ÅåH„Å™„Çâ
                    if (e.key == "T" || e.key == "L") {
                        newLet = e.key == "T" ? String.fromCharCode(0x1dc4) : toneLetters[6];
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else if (area.value.charAt(cursorAfterPos - 2) == toneLetters[3]) { //Ââç„ÅåL„Å™„Çâ
                    if (e.key == "B" || e.key == "H") {
                        newLet = e.key == "B" ? String.fromCharCode(0x1dc6) : toneLetters[5];
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else if (area.value.charAt(cursorAfterPos - 2) == toneLetters[4]) { //Ââç„ÅåB„Å™„Çâ
                    if (e.key == "L") {
                        newLet = String.fromCharCode(0x1dc5);
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else if (area.value.charAt(cursorAfterPos - 2) == toneLetters[5]) { //Ââç„ÅåR„Å™„Çâ
                    if (e.key == "F" || e.key == "\\") {
                        newLet = String.fromCharCode(0x1dc8);
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else if (area.value.charAt(cursorAfterPos - 2) == toneLetters[6]) { //Ââç„ÅåF„Å™„Çâ
                    if (e.key == "R" || e.key == "/") {
                        newLet = String.fromCharCode(0x1dc9);
                        consumeLetter = 2;
                    } else invalidInput = true;

                } else {
                    newLet = toneLetters["THMLBRF/\\".indexOf(e.key) - 2 * (e.key == "/" || e.key == "\\")];
                    consumeLetter = 1;
                }
            } else {
                if (!underscoreDiacriticCode.includes(e.key)) invalidInput = true;

                newLet = `${String.fromCharCode(0x0308, 0x031f, 0x0320, 0x0325, 0x0329)} º${String.fromCharCode(0x032f, 0x031a, 0x0303, 0x0318, 0x033a)}·µù${String.fromCharCode(0x031c, 0x032a, 0x0334)}À† ∞ ≤${String.fromCharCode(0x0330)}À°${String.fromCharCode(0x033b, 0x033c)}‚Åø${String.fromCharCode(0x0339, 0x031e, 0x0319, 0x031d, 0x0324)}·∂π${String.fromCharCode(0x032c)} ∑${String.fromCharCode(0x0306, 0x033d)}·∂£À©À®ÀßÀ¶À•ÀÄ` [underscoreDiacriticCode.indexOf(e.key)];
                consumeLetter = 1;
            }
        } else if ("A" <= e.key & e.key <= "Z" || "g%':@{}123456789&?<>^!|\"=~+".includes(e.key)) { //ÂçòÁ¥î„Å´Âà•„ÅÆÊñáÂ≠ó„ÅåÂá∫„Çã„ÇÇ„ÅÆ
            newLet = ("…ëŒ≤√ß√∞…õ…±…£…°…•…™…≤…¨ é…Ø≈ã…î ã…í Å ÉŒ∏ ä å çœá è íÀå ≤Àê…ô√¶ â…®√∏…ú…æ…´…ê…§…µ≈ì…∂ î‚ü®‚ü©ÍúõÍúú|Àà" + String.fromCharCode(0x0329, 0x0303, 0x0361))["ABCDEFGgHIJKLMNOPQRSTUVWXYZ%':@{}123456789&?<>^!|\"=~+".indexOf(e.key)];
            consumeLetter = 0;
        } else if ("\\`".includes(e.key)) { //Ââç„ÅÆ1ÊñáÂ≠ó„ÇíÂ§âÂåñ
            let formula = {
                bfore: "",
                after: ""
            };
            if (e.key == "\\") { //\„ÅßÈÄöÂ∏∏Ê¥æÁîü
                formula.bfore = "abcdehjklnoprstvxyzŒ≤√∞…£…•…™…≤…¨ é…Ø≈ã…î ã Å ÉŒ∏ äœáÀê…ô…ú…æ…´ î‚ü®‚ü©Íúú|- ∞ÀÄ" + String.fromCharCode(0x0329);
                formula.after = "·¥Ä‚±± ó»°·¥á…¶ ù û…∫»µÍ≠•…∏…π…ï»∂ ã…ß Æ ë ô»∏…¢ ú·µª…ü…Æ ü…∞…¥ ò»π Ä∆õ á·µøƒßÀë…ò…û…ø»¥ ï ¢ °«É«Ä‚Äø ±ÀÅ«Ç";
            } else if (e.key == "`") { //„Åù„ÇäËàåÈü≥
                formula.bfore = "dnr…πstz…ô…úl…¨…ø Æ";
                formula.after = "…ñ…≥…Ω…ª Ç à ê…ö…ù…≠Íûé Ö Ø";
            }
            let predLet = area.value.charAt(cursorAfterPos - 1);
            consumeLetter = 1;

            if (!formula.bfore.includes(predLet)) { //Â§âÊèõÂØæË±°„Å´„Å™„ÅÑ„Å®„Åç
                if (e.key == "`") {
                    newLet = "Àû";
                    consumeLetter = 0;
                } else {
                    invalidInput = true;
                }
            } else {
                newLet = formula.after[formula.bfore.indexOf(predLet)];
            }
        }

        e.preventDefault();
        if (invalidInput || cursorAfterPos <= consumeLetter - 1) return;
        if (longSelected) {
            area.value = area.value.substr(0, cursorAfterPos) + area.value.substr(area.selectionEnd, area.value.length);
            area.setSelectionRange(cursorAfterPos + 1, cursorAfterPos + 1);
        }
        area.value = area.value.substr(0, cursorAfterPos - consumeLetter) + newLet + area.value.substr(cursorAfterPos, area.value.length);
        area.setSelectionRange(cursorAfterPos + 1 - consumeLetter, cursorAfterPos + 1 - consumeLetter);
    });

</script>

</html>
